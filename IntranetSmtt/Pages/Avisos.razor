@page "/avisos"
@inject IJSRuntime JS

<!-- BLOCO QUADRO DE AVISOS -->
<div class="col-span-2">
    <div id="avisos">
        <h2 class="text-1xl font-normal mb-0 p-4 bg-cyan-600 text-white w-full "><i class="fas fa-bell"></i> Quadro de Avisos</h2> 
        <div class="relative overflow-hidden w-full border-4 border-cyan-600 h-[486px] overflow-y-auto p-4">
            @if (!string.IsNullOrEmpty(AvisosContent))
            {
                @((MarkupString)AvisosContent)
            }
            else
            {
                <p class="text-center mt-5 text-gray-500">Nenhum aviso dispon√≠vel.</p>
            }
        </div>
    </div>
</div>

@code {
    private string AvisosContent = "";

    protected override async Task OnInitializedAsync()
    {
        // Busca os avisos no IndexedDB
        AvisosContent = await JS.InvokeAsync<string>("quillIndexedDB.getAvisos");
        StateHasChanged();
    }
}
